
# ๐งฑ Document Architecture

## ๐ท ุนููุงู ูพุฑูฺู  
**Landing Page High-Traffic System**

---

## ๐ฏ ูุฏู ูพุฑูฺู  
ูุฏู ุงุฒ ุงู ูพุฑูฺู ุทุฑุงุญ ู ูพุงุฏูโุณุงุฒ ฺฉ **ุตูุญูโ ููุฏูฺฏ ุจุณุงุฑ ุณุงุฏู ุงูุง ุจุง ุชุฑุงูฺฉ ุจุงูุง** ุงุณุช ฺฉู ุจุชูุงูุฏ:
- ุฏุฑ ฺฉูุชุฑ ุงุฒ ฑ ุซุงูู ุจุฑุง ฺฉุงุฑุจุฑ ููุฏ ุดูุฏ.  
- ุดูุงุฑู ุชููู ฺฉุงุฑุจุฑ ุฑุง ุฏุฑุงูุช ฺฉุฑุฏู ู ุจุฏูู ุชุฃุฎุฑ ูพุงุณุฎ ุฏูุฏ.  
- ุฏุงุฏูโูุง ุฑุง ุจูโุตูุฑุช ุงููุ ูพุงุฏุงุฑ ู ูุงุจู ูุงูุชูุฑ ุฏุฑ ุจฺฉโุงูุฏ ุฐุฎุฑู ฺฉูุฏ.

---

## โ๏ธ ูุนูุงุฑ ุณุณุชู

### ๐น ฑ. Frontend (Landing Page)
- ุดุงูู ฺฉ ุตูุญูโ ุณุงุฏู ุจุง ููุฏ ุฏุฑุงูุช ุดูุงุฑู ููุจุงู ู ุฏฺฉูู "ุซุจุช".  
- ุงุฑุณุงู ุฏุงุฏู ุงุฒ ุทุฑู `POST /submit-phone/` ุจู API.

---

### ๐น ฒ. Backend (Django + DRF)
- ูุณุฆูู ุฏุฑุงูุช ุฏุฑุฎูุงุณุชโูุงุ ุงุนุชุจุงุฑุณูุฌ ุดูุงุฑูุ ู ุงุฑุณุงู ูพุงุณุฎ ููุฑ ุจู ฺฉุงุฑุจุฑ.  
- ุณุงุฎุชุงุฑ ูพุฑูฺู ุจุฑ ูพุงูโ `Django REST Framework` ุทุฑุงุญ ุดุฏู ุชุง APIูุง ูุงุจู ุชูุณุนู ู ูุณุชูุฏุณุงุฒ ุจุง Swagger ุจุงุดูุฏ.

#### ูุงฺููโูุง:
- `landing/serializers.py` โ ุงุนุชุจุงุฑุณูุฌ ุดูุงุฑู ููุจุงู.  
- `landing/views.py` โ ุฏุฑุงูุช ู ุงุฑุณุงู ูพุงุณุฎ ููุฑ.  
- `landing/tasks.py` โ ูพุฑุฏุงุฒุด ุขุณูฺฉุฑูู ุฐุฎุฑูโุณุงุฒ ุดูุงุฑู ู ูุงฺฏโูุง.  
- `landing/models.py` โ ุชุนุฑู ูุฏู ุดูุงุฑู ุชููู ู ุฑฺฉูุฑุฏูุง ุซุจุชโุดุฏู.  

---

### ๐น ณ. Async Layer (Celery + Redis)
- ุจุฑุง ุฌููฺฏุฑ ุงุฒ ฺฉูุฏ ูพุงุณุฎ ุจู ฺฉุงุฑุจุฑุ ุซุจุช ุฏุงุฏู ุฏุฑ ุฏุชุงุจุณ ุจูโุตูุฑุช **ุขุณูฺฉุฑูู (ุบุฑููโุฒูุงู)** ุงูุฌุงู ูโุดูุฏ.  
- Celery taskูุง ุจุง `Redis` ุจูโุนููุงู message broker ุงุฑุชุจุงุท ุฏุงุฑูุฏ.  
- ูุธูู Celery: ุฐุฎุฑู ุดูุงุฑู ุฏุฑ PostgreSQL ู ุซุจุช ูุงฺฏ ุฏุฑ MongoDB.

---

### ๐น ด. Databases
| ููุน | ุชฺฉููููฺ | ฺฉุงุฑุจุฑุฏ |
|------|-----------|--------|
| SQL | PostgreSQL | ุฐุฎุฑู ุดูุงุฑูโูุง ูุนุชุจุฑ |
| NoSQL | MongoDB | ุซุจุช ูุงฺฏ ุฏุฑุฎูุงุณุชโูุง (IPุ User Agentุ ุฒูุงูุ latency ู...) |

---

### ๐น ต. Caching Layer (Redis)
- Redis ุจูโุนููุงู ุญุงูุธูโ ูููุช ุจุฑุง ูุฏุฑุช Celery tasks ู rate limiting ุงุณุชูุงุฏู ูโุดูุฏ.  
- ุฏุฑ ุขูุฏู ูโุชูุงูุฏ ุจุฑุง cache ฺฉุฑุฏู ูพุงุณุฎโูุง ุซุงุจุช ุตูุญู ูุฒ ุงุณุชูุงุฏู ุดูุฏ.

---

### ๐น ถ. Security Layer
- ุฌููฺฏุฑ ุงุฒ **Brute Force / Spam** ุจุง `django_ratelimit`.  
- ุงุนุชุจุงุฑุณูุฌ ุฏูู ุดูุงุฑูโูุง ุฏุฑ Serializer.  
- ุฌููฺฏุฑ ุงุฒ SQL Injection ู XSS ุงุฒ ุทุฑู ORM ู DRF validation.  
- Log ุชูุงู ุฏุฑุฎูุงุณุชโูุง ุจุฑุง ุจุฑุฑุณ ุงููุช ุฏุฑ MongoDB.

---

### ๐น ท. Logging & Monitoring
- Middleware ุงุฎุชุตุงุต ุจุฑุง ุซุจุช ุฏุฑุฎูุงุณุชโูุง ุดุงูู:  
  `IP`, `User-Agent`, `Path`, `Latency`, `Timestamp`.  
- ุฐุฎุฑูโ ุงู ุฏุงุฏูโูุง ุฏุฑ MongoDB ุฌูุช ุชุญูู ุฑูุชุงุฑ ฺฉุงุฑุจุฑุงู ู ุณูุงูุช ุณุณุชู.  
- ูุงฺฏโูุง ุณุทุญ ุณุณุชู (Error, Info) ุงุฒ ุทุฑู ุชูุธูุงุช logging ุฏุฑ ูุงู `settings/production.py`.

---

### ๐น ธ. Deployment & Scaling
#### ูุนูุงุฑ ฺฉุงูุชูุฑ:
ุชูุงู ุณุฑูุณโูุง ุฏุงุฎู **Docker containers** ุงุฌุฑุง ูโุดููุฏ:

| ุณุฑูุณ | ููุด | Image / Command |
|--------|------|----------------|
| `nginx` | Reverse Proxy | nginx:stable-alpine |
| `web` | Django App | gunicorn core.wsgi:application |
| `celery` | Worker async tasks | celery -A core worker --loglevel=info |
| `db` | PostgreSQL | postgres:16 |
| `redis` | Broker & Cache | redis:7 |
| `mongo` | Log storage | mongo:7 |

---

### ๐น น. Performance Strategy
- ูพุงุณุฎ ุจู ฺฉุงุฑุจุฑ ุฏุฑ ฺฉูุชุฑ ุงุฒ ฑ ุซุงูู (Response ููุฑ ูุจู ุงุฒ task).  
- ุฐุฎุฑูโุณุงุฒ ุฏุฑ ูพุณโุฒููู (Celery worker).  
- ฺฉุงูุด ุณุฑุจุงุฑ ุดุจฺฉู ุจุง Nginx Reverse Proxy.  
- ูุงุจูุช scale ุงูู ุจุง ุงูุฒุงุด ุชุนุฏุงุฏ workers.

---

### ๐น ฑฐ. Monitoring & Health Check
- ุจุง ุงูุฒูุฏู endpointูุง health check ูโุชูุงู ุณูุงูุช ุณุฑูุณโูุง ุฑุง ูุงูุชูุฑ ฺฉุฑุฏ.  
- ุซุจุช ู ูุดุงูุฏู ูุงฺฏโูุง ุฏุฑ MongoDB ุชุถูู ูโฺฉูุฏ ูฺ ุฏุฑุฎูุงุณุช ุงุฒ ุฏุณุช ูุฑูุฏ.  
- ุฏุฑ ูุญุท production ูโุชูุงู ุงุฒ ุงุจุฒุงุฑูุง ูุงููุฏ **Prometheus + Grafana** ุจุฑุง ูุงูุชูุฑูฺฏ performance ุงุณุชูุงุฏู ฺฉุฑุฏ.

---

### ๐น ฑฑ. ุชูุณุนู ู ูฺฏูุฏุงุฑ
- ุชูุธูุงุช ูุญุท ุงุฒ ุทุฑู `.env` ฺฉูุชุฑู ูโุดููุฏ.  
- ุณุงุฎุชุงุฑ ูพุฑูฺู ูุงฺููุงุฑ ู ูุงุจู ฺฏุณุชุฑุด ุงุณุช.  
- ูุณุชูุฏุณุงุฒ ฺฉุงูู API ุงุฒ ุทุฑู Swagger (`/swagger/` endpoint).  
- ุชุณุช APIูุง ุจุง Postman collection ุถููู ุดุฏู ุงุณุช.

---

### ๐ฆ ูุชุฌูโฺฏุฑ
ุงู ุณุณุชู ุจุง ูุนูุงุฑ **Microservice-like (loosely coupled)** ุทุฑุงุญ ุดุฏู ุชุง:
- ูพุงุณุฎ ุณุฑุน ุจู ฺฉุงุฑุจุฑุงู ุงุฑุงุฆู ุฏูุฏ.  
- ุฏุฑ ุจุฑุงุจุฑ ุชุฑุงูฺฉ ุจุงูุง ููุงูู ุจุงุดุฏ.  
- ุจูโุฑุงุญุช ุฏุฑ ูุญุท Production ููุงุณโูพุฐุฑ ุดูุฏ.  
- ูุงุจูุช ุชูุณุนู ุขุณุงู ุจุฑุง future features (ูุซู OTP ุง campaign tracking) ุฏุงุดุชู ุจุงุดุฏ.
